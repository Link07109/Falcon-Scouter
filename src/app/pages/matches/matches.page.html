<app-custom-toolbar [title]="teamNumberName"></app-custom-toolbar>

<ion-content padding>
  <div text-center>
    <img id="image" width="75vh" height="75vh">
  </div>

  <div style="height: 10%;" text-center>
    <!-- <h2>{{ teamName }}</h2> -->
    <ion-button href="{{ teamWebsite }}">Website</ion-button>

    <ion-button icon-only href="https://{{ social.type.slice(0, -8) }}.com/{{ social.foreign_key }}"
      *ngFor="let social of socialMediaObservable | async">
      <ion-icon name="logo-{{ social.type.slice(0, -8) }}"></ion-icon>
    </ion-button>
  </div>

  <div text-center>
    Current Event: <b>{{ event }}</b>
    <br/>
    <ion-button (click)="toggleEvents()">Events</ion-button>
    <ion-button (click)="toggleMatches()">Matches</ion-button>
    <ion-button (click)="toggleMatchData()">Match Data</ion-button>
    <!-- <ion-button (click)="togglePitData()">Pit Data</ion-button> -->
  </div>

  <!-- Back Button -->
  <ion-fab vertical="top" horizontal="start" slot="fixed" style="position: fixed">
    <ion-fab-button routerLink="/teams">
      <ion-icon color="dark" name="return-left"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-scroll scroll=”true” style="white-space: nowrap; overflow-x: scroll; height: 65%; position: relative; bottom: 0;">

    <div *ngIf="showEvents">
      <ion-card text-center style="min-height: 9vh !important;" *ngFor="let event of eventsObservable | async">
        <h2>{{ event.name }}</h2>
        <ion-button color="secondary"
          href="https://www.thebluealliance.com/event/{{ event.year }}{{ event.event_code }}">View Event</ion-button>
      </ion-card>
    </div>

    <div *ngIf="showMatches">
      <ion-card *ngFor="let match of matches | async">
        <ion-grid>
          <ion-row>
            <ion-col text-start size="1" style="min-width: 3vh !important">
              <div class="center"><b>{{ match.comp_level.toUpperCase() }}-{{ match.match_number }}</b></div>
            </ion-col>
            <ion-col size="11">
              <ion-grid>
                <ion-row style="background-color: #fdd !important">
                  <ion-col col-5 style="min-width: 3vh !important" text-center *ngFor="let team of match.alliances.red.team_keys">
                    <ion-label style="color: #6e4552; margin-top: 2.2vh; font-weight: 500; font-size: 1.2em" routerLink="../matches/{{ team.substring(3) }}">{{ team.substring(3) }}</ion-label>
                  </ion-col>
                  <ion-col col-5 style="min-width: 3vh !important">
                    <h3 style="color: #6e4552; font-weight: 600" text-end>{{ match.alliances.red.score }}</h3>
                  </ion-col>
                </ion-row>
                <ion-row style="background-color: #ddf !important">
                  <ion-col col-5 style="min-width: 3vh !important" text-center *ngFor="let team of match.alliances.blue.team_keys">
                    <ion-label style="color: #6e4552; margin-top: 2.2vh; font-weight: 500; font-size: 1.2em" routerLink="../matches/{{ team.substring(3) }}">{{ team.substring(3) }}</ion-label>
                  </ion-col>
                  <ion-col col-5 style="min-width: 3vh !important">
                    <h3 style="color: #6e4552; font-weight: 600" text-end>{{ match.alliances.blue.score }}</h3>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card>
    </div>

    <ion-grid *ngIf="showStats" style="position: relative; bottom: 0; min-height: 50vh">
      <ion-row nowrap>
        <ion-col *ngFor="let stat of stats">
          <ion-card>
            <ion-label text-center color="dark" [innerHTML]="stat"></ion-label>
          </ion-card>
        </ion-col>
        <ion-col comment>
          <ion-card>
            <ion-label color="dark">Comments</ion-label>
          </ion-card>
        </ion-col>
      </ion-row>

      <ion-row nowrap *ngFor="let match of matchCollectionObservable | async">
        <!-- routerLink="/detail/{{teamNumber}} {{match.matchNumber}}"" -->

        <ion-col text-center>
          <b>{{ match.matchNumber }}</b>
        </ion-col>

        <!-- make this not so cancerous pls kthx -->
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.scoutName }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.startingPoint }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.HABLevel }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.result }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.interference }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.playsDefense }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.data.cargoInShip }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.data.cargoInRocket }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.data.hatchesInShip }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.data.hatchesInRocket }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.climb }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.driver }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.stability }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.penalties }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col comment>
          <ion-card>
            <ion-card-content>
              <ion-label color="dark">{{ match.comments }}</ion-label>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <hr />
      </ion-row>
    </ion-grid>
  </ion-scroll>

</ion-content>